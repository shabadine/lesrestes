{% extends 'base.html.twig' %}

{% block title %}Accueil - Les Restes{% endblock %}

{% block body %}
<main id="main-content" class="container">
    <div class="hero-section text-center py-5 mb-5">
        <h1 class="display-4 mb-4">Transformez vos restes<br>en délicieuses recettes</h1>
        
        {{ include('partials/_icon_bol.html.twig') }}

        <div class="row justify-content-center mb-4">
            <div class="col-11 col-md-8">
                <form action="{{ path('app_search') }}" method="GET">
                    <div class="input-group">
                        <input type="text" class="form-control" name="q" placeholder="Entrez vos ingrédients...">
                        <button class="btn btn-search-hero text-white" type="submit" aria-label="Lancer la recherche" title="Rechercher">
                          <i class="bi bi-search" aria-hidden="true"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <h2 class="mb-4">Dernières recettes ajoutées</h2>

    <div class="row">
        {% for recette in dernieresRecettes %}
            <div class="col-md-4 mb-4">
                {# Utilisation de ton partial de carte #}
                {{ include('recette/partials/_recipe_card.html.twig', {'recette': recette}) }}
            </div>
        {% else %}
            <div class="col-12">
                <div class="alert alert-info">Aucune recette disponible.</div>
            </div>
        {% endfor %}
    </div>

    {% if dernieresRecettes|length > 0 %}
        <div class="text-center mt-4">
            <a href="{{ path('app_recette_index') }}" class="btn btn-success btn-lg">Voir toutes les recettes</a>
        </div>
    {% endif %}
</main>
{% endblock %}